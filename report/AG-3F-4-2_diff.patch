diff --git a/engine/loop_stepper.py b/engine/loop_stepper.py
index 198ce81..2e83dcf 100644
--- a/engine/loop_stepper.py
+++ b/engine/loop_stepper.py
@@ -342,6 +342,7 @@ class LoopStepper:
         max_drain_iterations: int = 100,
         log_jsonl_path: Optional[Union[str, Path]] = None,
         exchange_adapter: Optional[ExchangeAdapter] = None,
+        idempotency_store = None,  # Optional IdempotencyStore for crash recovery
     ) -> Dict[str, Any]:
         """
         Run simulation using bus-based event flow.
@@ -390,6 +391,7 @@ class LoopStepper:
             intent_cache=intent_cache,
             jsonl_logger=jsonl_logger,
             exchange_adapter=exchange_adapter,
+            idempotency_store=idempotency_store,
         )
         pos_worker = PositionStoreWorker(self._state_store, jsonl_logger=jsonl_logger) if self._state_store else None
         # Drain execution_report if no pos_worker (prevents deadlock)
diff --git a/tools/run_live_3E.py b/tools/run_live_3E.py
index e18437c..4da8764 100644
--- a/tools/run_live_3E.py
+++ b/tools/run_live_3E.py
@@ -35,6 +35,8 @@ from engine.run_metrics_3D5 import collect_metrics_from_jsonl
 from engine.time_provider import SimulatedTimeProvider, RealTimeProvider
 from engine.exchange_adapter import PaperExchangeAdapter, StubNetworkExchangeAdapter, SimulatedRealtimeAdapter
 from engine.runtime_config import RuntimeConfig
+from engine.checkpoint import Checkpoint
+from engine.idempotency import FileIdempotencyStore
 from risk_rules_loader import load_risk_rules
 
 # Configure basic logging
@@ -93,8 +95,16 @@ def main():
     parser.add_argument("--exchange", choices=["paper", "stub", "realish"], default="paper", help="Exchange adapter mode")
     parser.add_argument("--latency-steps", type=int, default=1, help="Latency steps for stub exchange")
     
+    # 3F.4: Crash recovery
+    parser.add_argument("--run-dir", type=str, help="Run directory for checkpoint/idempotency (creates new run)")
+    parser.add_argument("--resume", type=str, help="Resume from existing run directory (mutually exclusive with --run-dir)")
+    
     args = parser.parse_args()
     
+    # Validate mutually exclusive args
+    if args.run_dir and args.resume:
+        parser.error("--run-dir and --resume are mutually exclusive")
+    
     # Validate runtime config for non-paper modes (fail-fast)
     cfg = RuntimeConfig.from_env()
     cfg.validate_for(args.clock, args.exchange)
@@ -144,6 +154,31 @@ def main():
         db_path.unlink()
     if trace_path.exists():
         trace_path.unlink()
+    
+    # 3F.4: Setup run directory and crash recovery
+    run_dir: Optional[Path] = None
+    checkpoint: Optional[Checkpoint] = None
+    idem_store: Optional[FileIdempotencyStore] = None
+    start_idx = 0
+    
+    if args.resume:
+        run_dir = Path(args.resume)
+        checkpoint_path = run_dir / "checkpoint.json"
+        if not checkpoint_path.exists():
+            print(f"ERROR: No checkpoint found at {checkpoint_path}")
+            sys.exit(1)
+        checkpoint = Checkpoint.load(checkpoint_path)
+        start_idx = checkpoint.last_processed_idx + 1
+        print(f"Resuming from run_id={checkpoint.run_id}, start_idx={start_idx}")
+        idem_store = FileIdempotencyStore(run_dir / "idempotency_keys.jsonl")
+    elif args.run_dir:
+        run_dir = Path(args.run_dir)
+        run_dir.mkdir(parents=True, exist_ok=True)
+        run_id = f"run_{args.seed}_{args.max_steps}"
+        checkpoint = Checkpoint.create_new(run_id)
+        checkpoint.save_atomic(run_dir / "checkpoint.json")
+        idem_store = FileIdempotencyStore(run_dir / "idempotency_keys.jsonl")
+        print(f"Created run directory: {run_dir}")
         
     # 3. Initialize LoopStepper
     bus = InMemoryBus()
@@ -166,10 +201,14 @@ def main():
             max_steps=args.max_steps,
             warmup=5,
             log_jsonl_path=trace_path,
-            exchange_adapter=exchange_adapter
+            exchange_adapter=exchange_adapter,
+            idempotency_store=idem_store,
         )
     finally:
         stepper.close()
+        # Close idempotency store if used
+        if idem_store:
+            idem_store.close()
         
     print(f"Simulation done. Published: {result.get('published', 0)}")
     
